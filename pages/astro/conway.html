<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simulating Conway's Game of Life in 3D</title>
  <link rel="stylesheet" href="../../styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&display=swap" rel="stylesheet">
 
  <style>
    /* Additional styles specific to blog post */
    .blog-post-container {
      max-width: 800px;
      margin: 80px auto 40px;
      padding: 0 20px;
      font-family: 'Oranienbaum', serif;
      line-height: 1.6;
      color: #222;
    }

    .blog-post-container h1 {
      font-size: 2.8rem;
      margin-bottom: 20px;
      text-align: center;
    }

    .blog-post-container blockquote {
      font-style: italic;
      font-size: 1.3rem;
      margin: 20px 0 30px;
      padding-left: 20px;
      border-left: 4px solid #f39c12;
      color: #555;
      background: #f9f9f9;
      border-radius: 4px;
    }

    .blog-post-container p {
      margin-bottom: 20px;
      font-size: 1.1rem;
    }
  </style>
</head>
<body>

  <!-- Navigation Bar -->
  <nav class="navbar">
    <ul>
      <li><a href="../../index.html">Home</a></li>
      <li><a href="../../projects.html">Projects</a></li>
      <li><a href="../../blog.html" class="active">Blogs</a></li>
      <li><a href="../../about.html">About</a></li>
    </ul>
  </nav>

  <main class="blog-post-container">
    <h1>Simulating Conway's Game of Life in 3D</h1>


    <h3>Necessary Packages and Paths</h3>

    <pre><code class="language-python">
    import numpy as np
    import matplotlib.pyplot as plt
    from matplotlib import animation
    from mpl_toolkits.mplot3d import Axes3D  # needed for 3D projection
    mpl.rcParams["animation.ffmpeg_path"] = "/usr/bin/ffmpeg"  # adjust path
    </code></pre>


    <h3>Initial Setup</h3>
    <pre><code class="language-python">
    NX, NY, NZ = 10, 10, 10   # grid size
    p_alive = 0.15            # initial alive probability

    # 3D grid: 0 = dead, 1 = alive
    grid = (np.random.rand(NZ, NY, NX) < p_alive).astype(np.uint8)
    </code></pre>


    <h3>Simulation</h3>
    <pre><code class="language-python">
    def count_neighbors(g):
    """
    Count alive neighbors for each cell in a 3D grid with periodic boundaries.
    g has shape (Z, Y, X).
    """
    nz, ny, nx = g.shape
    neighbors = np.zeros_like(g, dtype=np.uint8)

    # iterate over shifts in {-1, 0, 1} for each axis, skip (0,0,0)
    for dz in (-1, 0, 1):
        for dy in (-1, 0, 1):
            for dx in (-1, 0, 1):
                if dz == 0 and dy == 0 and dx == 0:
                    continue  # skip the cell itself
                neighbors += np.roll(
                    np.roll(
                        np.roll(g, dz, axis=0),
                        dy, axis=1
                    ),
                    dx, axis=2
                )

    return neighbors
    </code></pre>

    <h3>Conditions</h3>
    <pre><code class="language-python">
    def step(g):
        n = count_neighbors(g)
        birth = (g == 0) & (n == 6)
        survive = (g == 1) & ((n == 5) | (n == 6) | (n == 7))
        return (birth | survive).astype(np.uint8)
    </code></pre>

    <h3>Visualization and Animation</h3>
    <pre><code class="language-python">
    fig = plt.figure(figsize=(6, 6))
    ax = fig.add_subplot(111, projection="3d")
    ax.view_init(elev=30, azim=45)

    def setup_axes():
        ax.set_xlim(0, NX)
        ax.set_ylim(0, NY)
        ax.set_zlim(0, NZ)
        ax.set_xticks([])
        ax.set_yticks([])
        ax.set_zticks([])

    setup_axes()
    title = ax.set_title("Generation 0")

    # initial voxels
    def draw_voxels(g, generation):
        ax.clear()
        setup_axes()
        filled = g.astype(bool)  # True where alive
        # Draw 1x1x1 cubes at alive cells
        ax.voxels(filled, facecolors="#363636", edgecolors="k")
        return ax.set_title(f"Generation {generation}")

    def init():
        global grid, title
        title = draw_voxels(grid, 0)
        return (title,)

    def animate(frame):
        global grid, title
        grid = step(grid)
        title = draw_voxels(grid, frame)
        return (title,)

    n_frames = 300

    anim = animation.FuncAnimation(
        fig, animate, init_func=init,
        frames=n_frames, interval=50, blit=False
    )

    plt.show()
    </code></pre>

    <h3>Saving Animation</h3>
    <pre><code class="language-python">
    writer = animation.FFMpegWriter(fps=20)

    anim.save("game_of_life_3D.mp4", writer=writer)
    plt.close(fig)
    </code></pre>


    <h3>Simulation Result</h3>

    <video controls width="640">
    <source src="game_of_life_3D.mp4" type="video/mp4">
    Your browser does not support the video tag.
    </video>

  </main>

</body>
</html>
